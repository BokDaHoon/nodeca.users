router:
  http.get:
    users.profile_redirect:
      "/profile": ~

    users.member:
      "/member{user_hid}":
        user_hid:
          match: /\d+/
          type: 'integer'

    users.albums_root:
      "/member{user_hid}/albums":
        user_hid:
          match: /\d+/
          type: 'integer'

    users.album:
      "/member{user_hid}/album/{album_id}":
        user_hid:
          match: /\d+/
          type: 'integer'
        album_id:
          match: /[0-9a-f]{24}/
      "/member{user_hid}/albums/all":
        user_hid:
          match: /\d+/
          type: 'integer'

    users.album.edit:
      "/member{user_hid}/album/{album_id}/edit":
        user_hid:
          match: /\d+/
          type: 'integer'
        album_id:
          match: /[0-9a-f]{24}/

    users.media:
      "/member{user_hid}/media/{media_id}":
        user_hid:
          match: /\d+/
          type: 'integer'
        media_id:
          match: /[0-9a-f]{24}/

    admin.users.usergroups.index:
      "/usergroups": ~

    admin.users.usergroups.new:
      "/usergroups/new": ~

    admin.users.usergroups.edit:
      "/usergroups/edit/{_id}":
        _id: /[0-9a-f]{24}/

    admin.users.members.search:
      "/members/search": ~

    users.auth.login.show:
      "/auth/login(/{redirect_id})":
        redirect_id: /[0-9a-f]{24}/

    users.auth.reset_password.request_show:
      "/auth/reset": ~

    users.auth.reset_password.request_done_show:
      "/auth/reset/sent": ~

    users.auth.reset_password.change_show:
      "/auth/reset/{secret_key}":
        secret_key: /[0-9a-f]+/

    users.auth.reset_password.change_done_show:
      "/auth/reset/done":

    users.auth.register.show:
      "/auth/register": ~

    users.auth.register.done_show:
      "/auth/register/done": ~

    users.auth.register.resend_activation_show:
      "/auth/register/resend": ~

    users.auth.register.activate_show:
      "/auth/register/activate/{secret_key}":
        secret_key: /[0-9a-f]+/

    users.auth.callback:
      "/auth/oa/{provider}":
        provider: /[0-9a-zA-Z]+/

  http.post:
    users.media.upload:
      "/member{user_hid}/album/{album_id}/upload":
        user_hid:
          match: /\d+/
          type: 'integer'
        album_id:
          match: /[0-9a-f]{24}/
