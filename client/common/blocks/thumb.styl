// Thumbnails generic classes
//

@import "nodeca.core/client/common/_variables"

thumbImageWidth  = '$$ N.config.options.users.media.resize.sm.max_width $$'px
thumbImageHeight = '$$ N.config.options.users.media.resize.sm.height $$'px


.thumb
  width thumbImageWidth + 6
  height thumbImageHeight + 6
  display block
  text-align center
  border 1px solid grayLighter
  border-radius 2px
  padding 2px
  position relative

  &:before
    content ''
    height 100%
    display inline-block;
    vertical-align middle

// use inner only when realy need colored background
// for small images, like video previews
.thumb__inner
  display inline-block
  height 100%
  border-radius 2px
  background-color #000
  vertical-align top

  &:before
    content ''
    height 100%
    display inline-block;
    vertical-align middle


.thumb__image
  max-width thumbImageWidth
  max-height thumbImageHeight
  border-radius 2px
  background-color grayLighter
  display inline-block
  vertical-align middle
  text-align center


// Text content, when no image
.thumb__content
  display inline-block
  vertical-align middle
  max-width 100%
  padding 0 5px

  overflow hidden
  white-space nowrap
  text-overflow ellipsis


// Icon marker
.thumb__icon
  position absolute
  font-size 25px
  top 10px
  right 10px
  color grayLighter


// Texts under thumbnail
.thumb-caption
  width thumbImageWidth + 6
  padding 0 5px 0 3px
  display block

.thumb + .thumb-caption
  margin-top 4px

// Single-line modifier
.thumb-caption__m-inline
  overflow hidden
  white-space nowrap
  text-overflow ellipsis


// Modifier to show images in small size
.thumb__m-sm
  &.thumb
    width (thumbImageWidth / 1.4) + 6
    height (thumbImageHeight / 1.4) + 6

  .thumb__image
    max-width (thumbImageWidth / 1.4)
    max-height (thumbImageHeight / 1.4)

  &.thumb-caption
    width (thumbImageWidth / 1.4) + 6


// Modifier make previews smaller on small screens
@media (max-width: screenSm - 1)
  .thumb__m-responsive
    &.thumb
      width (thumbImageWidth / 1.4) + 6
      height (thumbImageHeight / 1.4) + 6

    .thumb__image
      max-width (thumbImageWidth / 1.4)
      max-height (thumbImageHeight / 1.4)

    &.thumb-caption
      width (thumbImageWidth / 1.4) + 6
