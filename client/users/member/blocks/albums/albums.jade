.member-block

  .member-block__header
    - var albumLink = self.link_to('users.albums_root', { 'user_hid': self.user_hid })
    .member-block__header-title.h2
      a.member-block__header-link.pull-left(href=albumLink)
        = self.t('title')
        |  (8)
        span.icon-right-open
      a.member-block__header-collapser(href='#member-albums-info', data-toggle='collapse')
        .pull-right.icon-collapse
        .pull-right.icon-expand

  #member-albums-info.member-block__inner.collapse.in
    ul.member-imagelist

      each media in self.photos
        - var href = self.link_to('users.media', { user_hid: self.user_hid, media_id: media._id })

        li.member-imagelist__item

          if media.type === 'image'
            - var imageUrl = self.link_to('core.gridfs', { bucket: media.file_id + '_sm' })
            a.thumb.thumb__m-sm(href=href)
              img.thumb__image(src=imageUrl)

          else if media.type === 'medialink'
            .thumb.thumb__m-sm
              a.thumb__inner(href=href)
                .thumb__icon.icon-video
                img.thumb__image(src=media.medialink_data.thumb)

          else if media.type === 'binary'
            //-a.thumb(href=self.link_to('core.gridfs', { bucket: media.file_id }))
            a.thumb.thumb__m-sm(href=href)
              .thumb__icon.icon-binary
              .thumb__content= media.file_name

          .user-medialist__item-meta.thumb-caption.thumb__m-sm
            = self.date(media.ts, 'date')
