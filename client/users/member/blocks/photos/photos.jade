.member-block

  .member-block__header
    - var allPhotosLink = self.link_to('users.album', { 'user_hid': self.user_hid })
    .member-block__header-title.h2
      a.member-block__header-link.pull-left(href=allPhotosLink)
        = self.t('title')
        |  (
        = self.count
        |)
        span.icon.icon-right-open
      a.member-block__header-collapser(href='#member-photos-info', data-toggle='collapse')
        .pull-right.icon.icon-collapse
        .pull-right.icon.icon-expand

  #member-photos-info.member-block__inner.collapse.in
    ul.member-imagelist

      each media in self.photos
        - var href = self.link_to('users.media', { user_hid: self.user_hid, media_id: media.media_id })

        li.member-imagelist__item

          if media.type === 'image'
            - var imageUrl = self.link_to('core.gridfs', { bucket: media.media_id + '_sm' })
            a.thumb.thumb__m-sm(href=href)
              img.thumb__image(src=imageUrl)
              .thumb-caption.thumb-caption__m-secondary
                time.thumb-caption__line(datetime=media.ts)= self.date(media.ts, 'date')

          else if media.type === 'medialink'
            .thumb.thumb__m-sm
              a.thumb__inner(href=href)
                .thumb__icon.icon.icon-video
                img.thumb__image(src=media.medialink_data.thumb)
                .thumb-caption.thumb-caption__m-secondary
                  time.thumb-caption__line(datetime=media.ts)= self.date(media.ts, 'date')

          else if media.type === 'binary'
            a.thumb.thumb__m-sm(href=href)
              .thumb__icon.icon.icon-binary
              .thumb__content= media.file_name
              .thumb-caption.thumb-caption__m-secondary
                time.thumb-caption__line(datetime=media.ts)= self.date(media.ts, 'date')
